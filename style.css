/* ===== Base ===== */
*{box-sizing:border-box;}
:root{
  --ui-h:24px;
  --ui-font:11px;
  --pad:8px;
  --gap:10px;
  --line:#e5e7eb;
  --muted:#6b7280;
  --chip:#f3f4f6;
  --chip-hover:#e8f1fb;
  --ink:#111;
}

body{
  margin:0;
  font-family:Arial, Helvetica, sans-serif;
  background:#fff;
  color:var(--ink);
}

header,.content-controls,#shows-container{
  padding:0 16px;
}

/* ===== Header ===== */
header{
  padding:12px 16px;
  border-bottom:1px solid var(--line);
  background:#fff;
}
@media(min-width:900px){
  header{position:sticky;top:0;z-index:10;}
}
.title-wrap{display:flex;justify-content:space-between;gap:16px;}
header h3{margin:0;font-size:15px;font-weight:700;}
header p{margin:6px 0 0;font-size:13px;line-height:1.35;color:var(--muted);max-width:52rem;}

/* ===== Filters ===== */
.filter-container{margin-top:10px;display:flex;flex-direction:column;gap:var(--gap);}
#controls-row{display:flex;flex-wrap:wrap;align-items:flex-end;gap:var(--gap) 16px;}
.filter-group label{display:block;margin:0 0 4px;font-size:var(--ui-font);color:var(--muted);}

/* shared “control” contract: same font + same height + centered content */
#region-filter,
#search,
.filter-chip span,
#reset-filters{
  font-family:inherit;
  font-size:var(--ui-font);
  height:var(--ui-h);
  display:inline-flex;
  align-items:center;
  justify-content:center;
  padding:0 var(--pad);
  border:0;
  margin:0;
  box-sizing:border-box;
}

/* region select (native) */
#region-filter{
  border:1px solid var(--line);
  background:#fff;
  justify-content:flex-start;
}
#region-filter option{font-family:inherit;font-size:var(--ui-font);}

/* filter chips */
.checkbox-filters{display:flex;flex-wrap:wrap;align-items:center;gap:6px 10px;}
.filter-chip{position:relative;cursor:pointer;}
.filter-chip input{position:absolute;opacity:0;pointer-events:none;}
.filter-chip span{
  background:var(--chip);
  color:var(--ink);
  height:100%;
  line-height:1;
}
.filter-chip input:checked + span{background:var(--ink);color:#fff;}
.filter-chip:hover span{background:var(--chip-hover);}

/* reset */
#reset-filters{
  background:var(--ink);
  color:#fff;
  cursor:pointer;
  appearance:none;
  -webkit-appearance:none;
}

/* ===== Search + Toggle ===== */
.content-controls{padding-top:10px;padding-bottom:10px;}
.search-row{display:flex;align-items:center;gap:12px;width:100%;}
#search{
  flex:1 1 0;
  min-width:260px;
  border:1px solid var(--line);
  background:#fff;
  justify-content:flex-start;
}

/* toggle */
.sort-toggle{display:inline-flex;align-items:center;gap:6px;user-select:none;white-space:nowrap;}
.sort-label{font-size:var(--ui-font);color:var(--muted);}
.sort-switch{
  position:relative;
  width:260px;
  height:var(--ui-h);
  display:flex;
  align-items:center;
  background:var(--chip);
  border:1px solid var(--line);
  overflow:hidden;
}
#sort-toggle{position:absolute;opacity:0;pointer-events:none;}
.sort-switch::before{
  content:"";
  position:absolute;
  top:2px;left:2px;
  width:calc(50% - 2px);
  height:calc(100% - 4px);
  background:#fff;
  border:1px solid var(--line);
  transform:translateX(0);
  transition:transform .15s ease;
}
#sort-toggle:checked + .sort-switch::before{transform:translateX(100%);}
.sort-option{
  position:relative;z-index:1;flex:1;
  display:flex;align-items:center;justify-content:center;
  font-size:var(--ui-font);
  white-space:nowrap;
  color:var(--muted);
}
#sort-toggle:not(:checked)+.sort-switch .left{color:var(--ink);}
#sort-toggle:checked+.sort-switch .right{color:var(--ink);}

/* ===== Grid ===== */
.shows-grid{
  display:grid;
  grid-template-columns:repeat(auto-fill,minmax(180px,1fr));
  gap:16px;
  padding:12px 0 24px;
}
#shows-container:not(:has(.shows-grid)){
  display:grid;
  grid-template-columns:repeat(auto-fill,minmax(180px,1fr));
  gap:16px;
  padding:12px 0 24px;
}

/* ===== Cards ===== */
.show-card{background:#f5f6f7;border:0;overflow:hidden;}
.show-image-container{height:260px;background:var(--line);}
.show-image{width:100%;height:100%;object-fit:cover;}
.show-info{padding:8px;}
.show-title{margin:0 0 4px;font-size:14px;font-weight:700;}
.show-year{margin:0 0 2px;font-size:12px;color:var(--muted);}
.show-region{margin:0;font-size:var(--ui-font);color:#9ca3af;}

/* card tags */
.tags-container{margin-top:6px;display:flex;flex-wrap:wrap;gap:6px;}
.tag{font-size:var(--ui-font);padding:1px 6px;background:var(--chip-hover);color:#1f4f7a;}

/* loading */
.loading,.loading-poster,.poster-error{
  padding:16px 0;
  text-align:center;
  font-size:12px;
  color:var(--muted);
}

/* ===== Mobile ===== */
@media(max-width:600px){
  .search-row{flex-direction:column;align-items:stretch;}
  #search{min-width:0;width:100%;}
  .sort-toggle{align-self:flex-end;}
  .sort-switch{width:240px;}
  .shows-grid,#shows-container:not(:has(.shows-grid)){
    grid-template-columns:repeat(3,1fr);
    gap:10px;
  }
  .show-image-container{height:140px;}
  .tags-container{display:none;}
}
